"use strict";(self.webpackChunkwonder_writer=self.webpackChunkwonder_writer||[]).push([[935],{4935:(ie,w,s)=>{s.r(w),s.d(w,{ProjectsModule:()=>ce});var p=s(9808),u=s(9426),d=s(9270),m=s(2076),h=s(8746),B=s(9105),l=s(7566),e=s(1223),E=s(7458),C=s(3557),g=s(5917),f=s(9848),j=s(7410),M=s(4463),S=s(2436),y=s(3112),x=s(7031),v=s(3848);let J=(()=>{class o{constructor(t,n,c,i,a){this.modalRef=t,this.toastService=n,this.loadingCoverService=c,this.projectStoreService=i,this.subscriptionService=a}ngOnInit(){}onSubmit(){this.singleTextForm.valid?this._createProject():this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8 \uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",type:l.p.error})}_createProject(){const n=this.projectStoreService.addProject(this.singleTextForm.value),c=(0,m.D)(n).pipe((0,h.x)(()=>this.loadingCoverService.showLoading=!1)).subscribe({next:i=>{this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),this.close(i)},error:i=>{console.error(i),this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8\ub97c \uc0dd\uc131\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",type:l.p.error})}});this.subscriptionService.store("_createProject",c),this.loadingCoverService.showLoading=!0}close(t){this.modalRef.close(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.Rv),e.Y36(l.k),e.Y36(C.x),e.Y36(g.c),e.Y36(d.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-project-modal"]],viewQuery:function(t,n){if(1&t&&e.Gf(j.l,5),2&t){let c;e.iGM(c=e.CRH())&&(n.singleTextForm=c.first)}},features:[e._Bn([d.F])],decls:8,vars:0,consts:[[3,"close"],["label","\ud504\ub85c\uc81d\ud2b8 \uba85",3,"formSubmit"],["appFlatButton","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-modal-container"),e.TgZ(1,"app-modal-header",0),e.NdJ("close",function(){return n.close()}),e._uU(2," \ud504\ub85c\uc81d\ud2b8 \uc0dd\uc131 "),e.qZA(),e.TgZ(3,"app-modal-content"),e.TgZ(4,"app-single-text-form",1),e.NdJ("formSubmit",function(){return n.onSubmit()}),e.qZA(),e.qZA(),e.TgZ(5,"app-modal-actions"),e.TgZ(6,"button",2),e.NdJ("click",function(){return n.onSubmit()}),e._uU(7," \uc0dd\uc131 "),e.qZA(),e.qZA(),e.qZA())},directives:[M.O,S.R,y.E,j.l,x.I,v.z],styles:[""]}),o})();var b=s(5405),L=s(6868),z=s(4377),P=s(2382);let N=(()=>{class o{constructor(){this.search="",this.searchChange=new e.vpe}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-projects"]],inputs:{search:"search"},outputs:{searchChange:"searchChange"},decls:2,vars:1,consts:[["name","search"],["appInput","","placeholder","Search Projects",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e._UZ(0,"app-icon",0),e.TgZ(1,"input",1),e.NdJ("ngModelChange",function(i){return n.searchChange.emit(i)}),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngModel",n.search))},directives:[L.o,z.V,P.Fj,P.JJ,P.On],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;height:35px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}app-icon[tk-name=search][_ngcontent-%COMP%]     path{fill:#8b8b8b}input[_ngcontent-%COMP%]{font-size:14px;font-weight:400;box-sizing:border-box;padding:0;width:calc(100% - 34px);margin-left:10px;background-color:transparent;color:#fff;border:none;height:100%}input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}"]}),o})(),Y=(()=>{class o{constructor(t){this.modalService=t,this.search="",this.searchChange=new e.vpe,this.projectCreated=new e.vpe}ngOnInit(){}openCreateModal(){this.modalService.open(J,{closeOnNavigating:!0,onClose:t=>{t&&this.projectCreated.emit(t)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(b.Z))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-header"]],inputs:{search:"search"},outputs:{searchChange:"searchChange",projectCreated:"projectCreated"},decls:3,vars:1,consts:[[3,"search","searchChange"],["appFlatButton","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-search-projects",0),e.NdJ("searchChange",function(i){return n.searchChange.emit(i)}),e.qZA(),e.TgZ(1,"button",1),e.NdJ("click",function(){return n.openCreateModal()}),e._uU(2," \uc0c8 \ud504\ub85c\uc81d\ud2b8\n"),e.qZA()),2&t&&e.Q6J("search",n.search)},directives:[N,v.z],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:20px 0;box-sizing:border-box;border-bottom:1px solid #8B8B8B}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}app-search-projects[_ngcontent-%COMP%]{width:calc(100% - 140px)}button[_ngcontent-%COMP%]{width:130px}"]}),o})();var O=s(8389),I=s(6388);let R=(()=>{class o{constructor(t){this.modalRef=t}ngOnInit(){}close(t){this.modalRef.close(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.Rv))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-delete-project-modal"]],decls:9,vars:0,consts:[[3,"close"],["appAutoFocus","","appFlatButton","","color","chestnut",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-modal-container"),e.TgZ(1,"app-modal-header",0),e.NdJ("close",function(){return n.close()}),e._uU(2," \ud504\ub85c\uc81d\ud2b8 \uc0ad\uc81c "),e.qZA(),e.TgZ(3,"app-modal-content"),e.TgZ(4,"p"),e._uU(5," \ud504\ub85c\uc81d\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? "),e.qZA(),e.qZA(),e.TgZ(6,"app-modal-actions"),e.TgZ(7,"button",1),e.NdJ("click",function(){return n.close(!0)}),e._uU(8," \uc0ad\uc81c "),e.qZA(),e.qZA(),e.qZA())},directives:[M.O,S.R,y.E,x.I,I.h,v.z],styles:[""]}),o})(),H=(()=>{class o{constructor(t,n,c,i,a,se){this.modalRef=t,this.data=n,this.toastService=c,this.loadingCoverService=i,this.projectStoreService=a,this.subscriptionService=se}ngOnInit(){}ngAfterViewInit(){this._initNameControl()}_initNameControl(){this.singleTextForm.initialValue=this.data.name}onSubmit(){this.singleTextForm.valid?this._updateProject():this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8 \uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",type:l.p.error})}_updateProject(){const t=this.singleTextForm.value,n=Object.assign(Object.assign({},this.data),{name:t}),c=this.projectStoreService.updateProject(n),i=(0,m.D)(c).pipe((0,h.x)(()=>this.loadingCoverService.showLoading=!1)).subscribe({next:a=>{this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),this.close(a)},error:a=>{console.error(a),this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8\ub97c \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",type:l.p.error})}});this.subscriptionService.store("_updateProject",i),this.loadingCoverService.showLoading=!0}close(t){this.modalRef.close(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.Rv),e.Y36(f.xJ),e.Y36(l.k),e.Y36(C.x),e.Y36(g.c),e.Y36(d.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-edit-project-modal"]],viewQuery:function(t,n){if(1&t&&e.Gf(j.l,5),2&t){let c;e.iGM(c=e.CRH())&&(n.singleTextForm=c.first)}},decls:8,vars:0,consts:[[3,"close"],["label","\ud504\ub85c\uc81d\ud2b8 \uba85",3,"formSubmit"],["appFlatButton","",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-modal-container"),e.TgZ(1,"app-modal-header",0),e.NdJ("close",function(){return n.close()}),e._uU(2," \ud504\ub85c\uc81d\ud2b8 \uc218\uc815 "),e.qZA(),e.TgZ(3,"app-modal-content"),e.TgZ(4,"app-single-text-form",1),e.NdJ("formSubmit",function(){return n.onSubmit()}),e.qZA(),e.qZA(),e.TgZ(5,"app-modal-actions"),e.TgZ(6,"button",2),e.NdJ("click",function(){return n.onSubmit()}),e._uU(7," \uc218\uc815 "),e.qZA(),e.qZA(),e.qZA())},directives:[M.O,S.R,y.E,j.l,x.I,v.z],styles:[""]}),o})(),U=(()=>{class o{constructor(){}ngOnInit(){}get backgroundColor(){return this.data.theme}get firstLetter(){return this.data.name[0]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-project-logo"]],hostVars:2,hostBindings:function(t,n){2&t&&e.Udp("background-color",n.backgroundColor)},inputs:{data:"data"},decls:1,vars:1,template:function(t,n){1&t&&e._uU(0),2&t&&e.hij("",n.firstLetter,"\n")},styles:["[_nghost-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;font-family:Noto Sans KR,sans-serif;font-size:14px;font-weight:400;color:#fff;border-radius:5px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}"]}),o})();var k=s(7395);let Q=(()=>{class o{constructor(t,n,c,i,a){this.toastService=t,this.modalService=n,this.loadingCoverService=c,this.projectStoreService=i,this.subscriptionService=a,this.projectDeleted=new e.vpe,this.projectEdited=new e.vpe}ngOnInit(){}onClickDelete(t){O.F$.neutralize(t),this._openDeleteModal()}_openDeleteModal(){this.modalService.open(R,{closeOnNavigating:!0,onClose:t=>{t&&this._deleteProject()}})}_deleteProject(){const t=this.projectStoreService.deleteProject(this.data),n=(0,m.D)(t).pipe((0,h.x)(()=>this.loadingCoverService.showLoading=!1)).subscribe({next:()=>{this.projectDeleted.emit(this.data),this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"})},error:c=>{console.error(c),this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8\ub97c \uc0ad\uc81c\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4",type:l.p.error})}});this.subscriptionService.store("deleteProject",n),this.loadingCoverService.showLoading=!0}onClickEdit(t){O.F$.neutralize(t),this._openEditModal()}_openEditModal(){this.modalService.open(H,{data:this.data,closeOnNavigating:!0,onClose:t=>{t&&this.projectEdited.emit(t)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.k),e.Y36(b.Z),e.Y36(C.x),e.Y36(g.c),e.Y36(d.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-project-item"]],inputs:{data:"data"},outputs:{projectDeleted:"projectDeleted",projectEdited:"projectEdited"},features:[e._Bn([d.F])],decls:11,vars:6,consts:[[1,"ww-flex","ww-left"],[3,"data"],[1,"ww-content"],[1,"ww-name"],[1,"ww-last-modified"],[1,"ww-flex"],["color","suva-grey","name","edit",3,"click"],["color","suva-grey","name","delete",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-project-logo",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4),e._uU(6),e.ALo(7,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(8,"div",5),e.TgZ(9,"app-icon-button",6),e.NdJ("click",function(i){return n.onClickEdit(i)}),e.qZA(),e.TgZ(10,"app-icon-button",7),e.NdJ("click",function(i){return n.onClickDelete(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("data",n.data),e.xp6(3),e.hij(" ",n.data.name," "),e.xp6(2),e.hij(" \ucd5c\uc885 \uc218\uc815\uc77c ",e.xi3(7,3,n.data.lastModifiedDate,"yyyy/MM/dd HH:mm:ss")," "))},directives:[U,k.r],pipes:[p.uU],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;box-sizing:border-box;padding:10px;border-radius:5px;cursor:pointer;-webkit-user-select:none;user-select:none;transition:background-color .1s}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]:hover{background-color:#8b8b8b80}.ww-flex[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.ww-flex[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.ww-left[_ngcontent-%COMP%]{width:calc(100% - 70px)}.ww-content[_ngcontent-%COMP%]{font-family:Noto Sans KR,sans-serif;margin-left:10px;width:calc(100% - 50px)}.ww-name[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:20px;color:#fff}.ww-last-modified[_ngcontent-%COMP%]{font-size:14px;font-weight:300;line-height:20px;margin-top:1px;color:#ffffff80}app-icon-button[_ngcontent-%COMP%] + app-icon-button[_ngcontent-%COMP%]{margin-left:20px}"]}),o})();const X=function(o){return["/writer/project",o]};function V(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"a",1),e.TgZ(1,"app-project-item",2),e.NdJ("projectDeleted",function(c){return e.CHM(t),e.oxw().projectDeleted.emit(c)})("projectEdited",function(c){return e.CHM(t),e.oxw().projectEdited.emit(c)}),e.qZA(),e.qZA()}if(2&o){const t=r.$implicit;e.Q6J("routerLink",e.VKq(2,X,t.id)),e.xp6(1),e.Q6J("data",t)}}let G=(()=>{class o{constructor(){this.data=[],this.projectDeleted=new e.vpe,this.projectEdited=new e.vpe}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-project-list"]],inputs:{data:"data"},outputs:{projectDeleted:"projectDeleted",projectEdited:"projectEdited"},decls:1,vars:1,consts:[[3,"routerLink",4,"ngFor","ngForOf"],[3,"routerLink"],[3,"data","projectDeleted","projectEdited"]],template:function(t,n){1&t&&e.YNc(0,V,2,4,"a",0),2&t&&e.Q6J("ngForOf",n.data)},directives:[p.sg,u.yS,Q],styles:["[_nghost-%COMP%]{display:block;overflow:auto}a[_ngcontent-%COMP%]{display:block}a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-top:5px}"]}),o})();const K=[{path:"",component:(()=>{class o{constructor(t,n,c,i,a){this.toastService=t,this.headerService=n,this.loadingCoverService=c,this.projectStoreService=i,this.subscriptionService=a,this.search="",this.filteredProjects=[],this._projects=[]}ngOnInit(){this._hideHeaderActions(),this._getProjects()}onSearchChange(t){this.search=t,this._createDisplayableProjects()}onProjectCreated(t){this._unshiftCreatedProject(t),this._createDisplayableProjects()}onProjectDeleted(t){this._removeDeletedProject(t),this._createDisplayableProjects()}onProjectEdited(t){this._replaceEditedProject(t),this._createDisplayableProjects()}_hideHeaderActions(){this.headerService.showBack=!1,this.headerService.showMenu=!1,this.headerService.actions=[]}_getProjects(){const t=this.projectStoreService.getProjects(),n=(0,m.D)(t).pipe((0,h.x)(()=>this.loadingCoverService.showLoading=!1)).subscribe({next:c=>this._onProjectsLoaded(c),error:c=>{console.error(c),this.toastService.open({message:"\ud504\ub85c\uc81d\ud2b8 \ubaa9\ub85d\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4",type:l.p.error})}});this.subscriptionService.store("_getProjects",n),this.loadingCoverService.showLoading=!0}_onProjectsLoaded(t){this._projects=t,this._createDisplayableProjects()}_unshiftCreatedProject(t){this._projects.unshift(t)}_removeDeletedProject(t){this._projects=this._projects.filter(n=>n.id!==t.id)}_replaceEditedProject(t){this._projects=this._projects.map(n=>n.id===t.id?t:n)}_createDisplayableProjects(){this._filterProjects(),this._orderFilteredProjects()}_filterProjects(){this.filteredProjects=this._projects.filter(t=>-1!==t.name.toLowerCase().indexOf(this.search.toLowerCase()))}_orderFilteredProjects(){const t=B.o.sortMethodWithOrderByColumn({property:"lastModifiedDate",order:"desc",type:"date"});this.filteredProjects.sort(t)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.k),e.Y36(E.r),e.Y36(C.x),e.Y36(g.c),e.Y36(d.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-projects"]],features:[e._Bn([d.F])],decls:3,vars:2,consts:[[1,"ww-content"],[3,"search","projectCreated","searchChange"],[3,"data","projectDeleted","projectEdited"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"app-search-header",1),e.NdJ("projectCreated",function(i){return n.onProjectCreated(i)})("searchChange",function(i){return n.onSearchChange(i)}),e.qZA(),e.TgZ(2,"app-project-list",2),e.NdJ("projectDeleted",function(i){return n.onProjectDeleted(i)})("projectEdited",function(i){return n.onProjectEdited(i)}),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("search",n.search),e.xp6(1),e.Q6J("data",n.filteredProjects))},directives:[Y,G],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block}.ww-content[_ngcontent-%COMP%]{width:calc(100% - 20px);height:100%;margin:0 auto;max-width:750px}app-project-list[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px 0;height:calc(100% - 76px)}"]}),o})()}];let $=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.Bz.forChild(K)],u.Bz]}),o})();var W=s(7094),D=s(4825),_=s(4566),Z=s(6728),A=s(4245),T=s(886),F=s(7980);let q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,Z.z,D.g,_.n,A.k,T.E,F.N]]}),o})(),ee=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,W.Q,D.g,_.n,q,P.u5]]}),o})();var te=s(8976);let oe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,Z.z,_.n,T.E]]}),o})(),ne=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,Z.z,A.k,T.E,D.g,_.n,F.N]]}),o})(),re=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,te.v,oe,ne,u.Bz]]}),o})(),ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,$,ee,re]]}),o})()}}]);